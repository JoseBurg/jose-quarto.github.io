{
  "hash": "945cb75578e31b00931ce2e319c1ad5e",
  "result": {
    "markdown": "---\ntitle: \"APis\"\n---\n\n\n# Introducción\n\nUna API, o Interfaz de Programación de Aplicaciones (por sus siglas en inglés, Application Programming Interface), es un conjunto de reglas y protocolos que permiten que diferentes aplicaciones informáticas se comuniquen entre sí. Estas reglas determinan cómo los componentes de software deben interactuar, qué datos pueden solicitar y cómo deben interpretar las respuestas.\n\nLas APIs son esenciales para los analistas de datos porque les proporcionan acceso a datos de diversas fuentes, les permiten automatizar tareas, integrar información, realizar análisis avanzados y visualizar resultados. Esto les ayuda a tomar decisiones informadas y a extraer **insights** valiosos de los datos, lo que puede tener un impacto significativo en la toma de decisiones empresariales y estratégicas.\n\nEn este artículo, exploraremos la conexión a la base de datos de la Superintendencia de Bancos de la República Dominicana a través de su API. Nuestro objetivo principal será extraer datos relacionados con las captaciones por regiones. Posteriormente, llevaremos a cabo diversas manipulaciones y visualizaciones con el propósito de realizar un análisis detallado de estos bancos.\n\n### Elementos necesarios para conectar a una API:\n\n1.  **Acceso a la Documentación**\n2.  **Claves de Autenticación**\n3.  **Herramientas de Desarrollo**\n4.  **Conexión a Internet**\n5.  **Manejo de Respuestas**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(httr)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'dplyr' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(tidytext)\n\nlink <- \"https://apis.sb.gob.do/estadisticas/v2/carteras/creditos/genero?periodoInicial=2021-01\"\nsubscription_key <- \"bRhDMj4xQCQw9cG\"\nresponse <- GET(link, add_headers(`Subscription-Key` = subscription_key))\n\njson_content <- content(response, \"text\", encoding = \"UTF-8\")\ncaptaciones <- jsonlite::fromJSON(json_content)\n\n\n# captaciones |> \n#   # group_by(region) |> \n#   mutate(\n#     total = sum(balance),\n#     entidad = as.factor(entidad),\n#     orden = reorder_within(entidad, total, region)) |> \n#   ggplot() + \n#   geom_col(\n#     aes(x = total/1000000, y = orden), \n#     show.legend = FALSE) +\n#   labs(x = \"\", y = \"\") +\n#   facet_wrap(~region, scales = \"free_y\") +\n#   scale_y_reordered()\n```\n:::\n\n\n[Pasos para registrarse en la APis de la Super de Bancos](https://medium.com/@SB-ESTUDIOS/c%C3%B3mo-registrarte-en-el-portal-de-apis-de-la-superintendencia-de-bancos-b8a59acf3f9a)\n\nA la hora de acceder a las estadísticas del sistema financiero, se recomienda ir la versión 2, ya que la uno será descontinuada. ![](img/mens_v1.png){width=\"316\"}\n\nLuego de elegir la variable deseada que se descargara, es importante verificar los parámetros y sus características, ademas de consultar cuales de esos parámetros serán obligatorios o no. Como se ve en la siguiente imagen, la super nos proporciona un resumen detallados de los para metros a utilizar:\n\n![](img/list_param.png)\n\nSegún los detalles de la imagen anterior, solo se requiere colocar el periodo inicial para poder descargar los datos, aunque podemos filtrar con los demás.\n\nLuego de elegir los filtros o parametros que tendra nuestra data la pagina nos generará un link con la siguiente estructura:\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}