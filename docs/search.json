[
  {
    "objectID": "posts/getSymbols/getsymbols.html",
    "href": "posts/getSymbols/getsymbols.html",
    "title": "Obtener datos desde una fuente remota",
    "section": "",
    "text": "Cuando iniciamos a trabajar con R, es común que analicemos datos en formatos Excel que descargamos en nuestro ordenador. Con el paso del tiempo, esta tarea se convierte en una rutina que puede volverse tediosa, especialmente cuando lidiamos con grandes cantidades de datos que ralentizan el procesamiento y consumen una cantidad considerable de memoria de nuestra computadora.\nImagina la posibilidad de descargar bases de datos de forma remota, seleccionando únicamente los datos necesarios para tu análisis y evitando cargar información que no te interese. Para hacer esto, el paquete quantmod proporciona una función llamada getSymbols, que permite la descarga de datos desde páginas web.\nAl utilizar getSymbols, puedes simplificar y automatizar el proceso de adquisición de datos, lo que te brinda la flexibilidad de trabajar con conjuntos de datos sin comprometer el rendimiento de tu computadora. Esta función te libera de la carga de descargar manualmente archivos y te permite concentrarte en el análisis y la interpretación de los datos relevantes para tu investigación o proyecto.\nPaquetes: quantmod tidyverse zoo gt"
  },
  {
    "objectID": "posts/getSymbols/getsymbols.html#introducción",
    "href": "posts/getSymbols/getsymbols.html#introducción",
    "title": "Obtener datos desde una fuente remota",
    "section": "",
    "text": "Cuando iniciamos a trabajar con R, es común que analicemos datos en formatos Excel que descargamos en nuestro ordenador. Con el paso del tiempo, esta tarea se convierte en una rutina que puede volverse tediosa, especialmente cuando lidiamos con grandes cantidades de datos que ralentizan el procesamiento y consumen una cantidad considerable de memoria de nuestra computadora.\nImagina la posibilidad de descargar bases de datos de forma remota, seleccionando únicamente los datos necesarios para tu análisis y evitando cargar información que no te interese. Para hacer esto, el paquete quantmod proporciona una función llamada getSymbols, que permite la descarga de datos desde páginas web.\nAl utilizar getSymbols, puedes simplificar y automatizar el proceso de adquisición de datos, lo que te brinda la flexibilidad de trabajar con conjuntos de datos sin comprometer el rendimiento de tu computadora. Esta función te libera de la carga de descargar manualmente archivos y te permite concentrarte en el análisis y la interpretación de los datos relevantes para tu investigación o proyecto.\nPaquetes: quantmod tidyverse zoo gt"
  },
  {
    "objectID": "posts/getSymbols/getsymbols.html#getsymbols",
    "href": "posts/getSymbols/getsymbols.html#getsymbols",
    "title": "Obtener datos desde una fuente remota",
    "section": "getSymbols",
    "text": "getSymbols\nEsta función necesita algunas información esenciales de la data que se necesita descargar, como el símbolo de los datos y el nombre de la pagina donde se encuentra la data.\n\nEstructura de la función getSymbols:\nEn esta caso vamos a descargar los datos del Índice de Precios al Consumidor de Estados Unidos desde la página principal de la Federal Reserve Economic Data, con los siguientes parámetros:\n\ngetSymbols(\n  Symbols =  \"USACPALTT01CTGYM\",\n  src = \"FRED\",\n  from = \"2012-01-01\",\n  to = \"2024-02-01\",\n  format = \"xts\",\n  periodicity = \"monthly\"\n)\n\n[1] \"USACPALTT01CTGYM\"\n\n\n\n\n\n\n\n\nNota\n\n\n\nDependiendo de la pagina que vayas a descargar pueden variar la estructura de la función, pueden consultar con ?getSymbols().\n\n\nLo primero que tenemos es el Symbols, este especifica el identificador del conjunto de datos que deseamos obtener. En este caso, USACPALTT01CTGYM se refiere a los Índices de precios al consumidor (IPC, IPCA), COICOP 1999: Índice de precios al consumidor: Total para Estados Unidos en unidades de contribución a la tasa de crecimiento, en 1 año, sin desestacionalizar. Estos identificadores lo podemos encontrar al lado del nombre cuando visitamos la página principal de la FRED. Especificamos la fuente con src, en este caso, “FRED”. Luego, definimos el rango de fechas con from y to, que indican el periodo de tiempo que deseamos descargar. Por último, especificamos el formato de los datos con format y la periodicidad con periodicity.\nPor defecto el conjunto de datos que descargamos se guardara con el nombre del símbolo que utilizamos, algunas informaciones de la data descargada se pueden ver con el siguiente código:\n\ndplyr::glimpse(USACPALTT01CTGYM)\n\nAn xts object on 2012-01-01 / 2024-02-01 containing: \n  Data:    double [146, 1]\n  Columns: USACPALTT01CTGYM\n  Index:   Date [146] (TZ: \"UTC\")\n  xts Attributes:\n    $ src    : chr \"FRED\"\n    $ updated: POSIXct[1:1], format: \"2024-05-26 14:40:54\"\n\n\n\n\nManipulación y visualización de los datos\nVamos hacer algunos ajuste para que nuestro conjunto de datos sea más amigables1 para las visualizaciones y luego pasamos a calcular algunas estadísticas descriptivas de los datos descargados.\n\nPaso 1Paso 2\n\n\n\nipc_usa &lt;- zoo::fortify.zoo(# Convertimos a data.frame\n                 USACPALTT01CTGYM) |&gt; \n               setNames(# asignamos nombres fácil de identificar\n                 c(\"periodo\", \"ipc\")) |&gt; \n                mutate(across(ipc, ~round(.x, digits = 2)))\nipc_usa |&gt; \n  tail(n = 3) |&gt; \n  gt::gt()\n\n\n\n\n\n  \n    \n      periodo\n      ipc\n    \n  \n  \n    2023-12-01\n3.26\n    2024-01-01\n3.08\n    2024-02-01\n3.03\n  \n  \n  \n\n\n\n\n\n\nSiempre es bueno explorar algunas estadísticas descriptivas de nuestros datos, para tener una idea general de la información que estamos trabajando:\n\nipc_usa |&gt; \n  mutate(\n    Covid = ifelse(periodo &gt;= \"2020-01-01\", \"Covid\", \"Pre-Covid\")) |&gt; \n  summarise(across(ipc, list(\n    Promedio = mean, Minimo = min, \n    Maximo = max),\n    .names = \"{.fn}\"),\n    .by = Covid) |&gt; \n  gt() |&gt; tab_header(\n    title = \"IPC de USA\",\n    subtitle = \"Datos de enero 2012 a febrero 2024\")\n\n\n\n\n\n  \n    \n      IPC de USA\n    \n    \n      Datos de enero 2012 a febrero 2024\n    \n    \n      Covid\n      Promedio\n      Minimo\n      Maximo\n    \n  \n  \n    Pre-Covid\n1.580417\n-0.23\n2.90\n    Covid\n4.414400\n0.05\n8.97\n  \n  \n  \n\n\n\n\n\n\n\nTomando en consideración las estadísticas de la tabla anterior, crearemos las variables que vamos a usar para resaltar algunos puntos en el gráfico:\n\nipc_usa_est &lt;- ipc_usa |&gt;\n  mutate(\n    max_ipc = ifelse(ipc == max(ipc), ipc, NA),               # Máximo covid\n    min_ipc_covid = ifelse(periodo == \"2020-05-01\", ipc, NA)) # Mínimo covid\n\nPara gráficar los datos, vamos a utilizar la librería ggplot2 y agregar informaciones para resaltar algunos puntos importantes en el gráfico:\nInicio de la pandemia:\n\n\nCódigo\ngraph_ipc_usa &lt;- ipc_usa_est |&gt;\n  ggplot(aes(x = periodo, y = ipc)) +\n   geom_rect(aes(\n     xmin = as.Date(\"2020-01-01\"),  # Inicio de pandemia\n     xmax = as.Date(\"2021-12-31\"), \n     ymin = -Inf, ymax = Inf),\n     fill = \"#8d99ae\") +\n   geom_line(color = \"black\", size = 1)\n\n\nVamos agregar más información al gráfico, con algunas anotaciones:\n\ngraph_ipc_usa &lt;- graph_ipc_usa + \n  # Promedio pre-covid\n  geom_hline(yintercept = 1.58, color = \"#5f1a37\", linetype = \"dashed\", size = 0.6) +\n  annotate(\"text\", x = as.Date(\"2022-12-1\"), y = 1.9, label = \"Promerdio 2012-2020\",\n           color = \"#5f1a37\",size = 2.9) +\n  # Mínimo covid\n  geom_text(aes(\n     periodo, min_ipc_covid, label = paste0(min_ipc_covid, \" (May-2020)\")),\n     vjust = 1, hjust = .1, color = \"#0d00a4\", size = 2.5) +\n  # Máximo covid\n   geom_text(aes(\n     periodo, max_ipc, label = paste0(max_ipc, \" (Jun-2022)\")),\n     vjust = -0.3, hjust = .1, color = \"red\", size = 2.5)\n\nPor último, se mejora el diseño del gráfico predeterminado:\n\n\nCódigo\n(graph_ipc_usa &lt;- graph_ipc_usa +\n  # Escala de fecha\n   scale_x_date(date_labels = \"%b %Y\", date_breaks = \"2 year\") +        \n  # Titulos:\n   labs(\n      title = \"Índice de Precios al Consumidor (IPC) de USA\",\n      subtitle = \"Datos de enero 2012 a febrero 2024\",\n      x = \"Periodo\",\n      y = \"IPC\", \n      caption = \"Fuente: FRED\") +\n  theme_bw()) # Tema de gráfico"
  },
  {
    "objectID": "posts/getSymbols/getsymbols.html#observaciones",
    "href": "posts/getSymbols/getsymbols.html#observaciones",
    "title": "Obtener datos desde una fuente remota",
    "section": "Observaciones",
    "text": "Observaciones\nComo se puede observar en el gráfico, los paros de movilidad y la disminución de la demanda a nivel global producto de la pandemia de COVID-19, provoco que el IPC de Estados Unidos experimentara comportamiento inusuales, donde este logra alcanzar un valor de 0.05 en mayo de 2020, y después inicia un periodo de aumento que se extiende hasta junio del 2022, en el que alcanza su valor máximo2 de 9.0%. Aunque la Reserva Federal ha trabajado arduamente para lograr la disminución que se ha evidenciado en los últimos meses, el IPC aún no ha llegado a los niveles previos a la pandemia."
  },
  {
    "objectID": "posts/getSymbols/getsymbols.html#consideraciones-finales-de-getsymbols",
    "href": "posts/getSymbols/getsymbols.html#consideraciones-finales-de-getsymbols",
    "title": "Obtener datos desde una fuente remota",
    "section": "Consideraciones finales de getSymbols",
    "text": "Consideraciones finales de getSymbols\nLas diferentes formas de usar la función getSymbols del paquete quantmod permiten a los analista de datos personalizar la descarga masiva de datos según lo requiera. Pero se debe tener en cuenta que en algunos casos las fechas solicitadas no estarán disponibles, el formato de los datos descargados puede no ser el adecuado para el análisis que se va a realizar, o en el caso de algunas variables, la periodicidad deseada de los datos puede que no este disponible.\nHasta el momento los sitios web que se suelen descargar datos son:\n Yahoo Finance\n Google Finance\n FRED\n Oanda\nLos formatos de datos más comunes que se pueden descargar son de series de tiempo, como xts y zoo.\nLas periodicidades que se pueden descargar va a depender mucho del tipo de variable que se quiera descargar, estas van desde diarias hasta anuales."
  },
  {
    "objectID": "posts/getSymbols/getsymbols.html#footnotes",
    "href": "posts/getSymbols/getsymbols.html#footnotes",
    "title": "Obtener datos desde una fuente remota",
    "section": "Notas",
    "text": "Notas\n\n\nSe recomienda utilizar nombres de variables que sean fáciles de recordar y que tengan sentido para nosotros. Es más fácil recordar el nombre de un objeto donde su nombre lo describa, de seguro recodara más rápido el IPC de USA con ipc_usa en vez de USACPALTT01CTGYM.↩︎\nMáximo de la serie observada.↩︎"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "José",
    "section": "",
    "text": "Hola, mi nombre es José Burgos. Soy un joven economista apasionado por la ciencia de datos y la programación en RStudio. Te invito a visitar mi blog personal, donde comparto técnicas de ciencia de datos y análisis económicos, principalmente utilizando modelos econométricos."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "José Burgos",
    "section": "",
    "text": "Obtener datos desde una fuente remota\n\n\n\n\n\n\n\n\n\n\n\n\nMar 2, 2024\n\n\nJosé Burgos\n\n\n\n\n\n\nNo matching items"
  }
]